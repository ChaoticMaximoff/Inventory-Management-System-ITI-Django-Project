{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;800&display=swap"
      rel="stylesheet" />
    <meta charset="UTF-8" />
    <title>Sign up</title>
    <link rel="stylesheet" href="{% static 'css/register.css' %}" />
  </head>
  <body class="d-flex d-xl-block align-items-center justify-content-center">
    <div class="row main-wrapper align-items-center shadow">
      <div class="col-sm-12 col-lg-12 col-xl-6 text-center p-0">
        <img
          class="img-fluid d-none d-xl-block"
          style="background: linear-gradient(180deg, #9747ff, #584bdd)"
          src="{% static 'images/Registerimg.svg' %}"
          alt="Barcode Image" />
      </div>
      <div class="col-sm-12 col-lg-12 col-xl-6">
        <form method="POST" class="row g-4 justify-content-center mt-4">
          {% csrf_token %}
          <h3 style="padding-left: 20%">
            <span class="fw-bolder">Hello!</span><br />Sign up to get started.
          </h3>

          {{ form.username }} {{ form.email }} {{ form.password1 }}
          {{form.password2 }} {{ form.role }}

          <button
            type="submit"
            class="btn btn-primary rounded-pill fw-bold py-3 px-5"
            style="width: 60%; background-color: var(--color-blue)">
            Register
          </button>

          <p class="text-center mt-3">
            Already have an account?
            <a
              style="color: var(--color-blue)"
              href="{% url 'accounts:login' %}"
              >Login</a
            >
          </p>

          {% if form.non_field_errors %}
          <div class="alert alert-danger mt-3">
            {% for error in form.non_field_errors %}
            <p>{{ error }}</p>
            {% endfor %}
          </div>
          {% endif %}
        </form>
      </div>
    </div>
    {%if register_success %}
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        Swal.fire({
          title: "Registration Successful",
          text: "You have successfully registered!",
          icon: "success",
          toast: true,
          position: "top",
          showConfirmButton: false,
          timer: 3000,
          timerProgressBar: true
        }).then(() => {
          window.location.href = "{% url 'accounts:index' %}";
        });
      });
    </script>
    {% endif %}
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    {% load sweetify %} {% sweetify %}
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
      integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
      crossorigin="anonymous"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
      integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
      crossorigin="anonymous"></script>
  </body>
</html>
